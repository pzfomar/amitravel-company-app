<ion-header [translucent]="true">
  <ion-toolbar color="toolbar">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Calificaciones
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true" color="light">
  <ion-refresher slot="fixed" (ionRefresh)="refrescar($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <div *ngIf="page">
    <table>
      <caption>
        <ion-searchbar placeholder="Buscar" (ionChange)="buscar($event.target.value)" (ionClear)="buscar('')">
        </ion-searchbar>
      </caption>
      <thead>
        <tr>
          <th scope="col">Evento</th>
          <th scope="col">Usuario</th>
          <th scope="col">Evaluacion</th>
          <th scope="col">Comentario</th>
          <th scope="col">Estatus</th>
          <th scope="col">Creacion</th>
          <th scope="col">Actualizacion</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dato of page.contenido;">
          <td data-label="Evento"><b>{{dato.evento.id + '.- ' + dato.evento.nombre}}</b></td>
          <td data-label="Usuario">{{dato.usuario.id + '.- ' + dato.usuario.apodo}}</td>
          <td data-label="Evaluacion">{{dato.evaluacion + '/3'}}</td>
          <td data-label="Comentario">{{dato.comentario}}</td>
          <td data-label="Estatus">{{dato.estatus}}</td>
          <td data-label="Creacion">{{dato.creacion}}</td>
          <td data-label="Actualizacion">{{dato.actualizacion}}</td>
          <td data-label="">
          </td>
        </tr>
      </tbody>
    </table>
    <section style="text-align: center;">
      <ion-button [disabled]="page.paginaSeleccionada == 0" color="toolbar" (click)="seleccionarPagina(0)">
        <ion-icon name="arrow-undo"></ion-icon>
      </ion-button>
      <ion-icon *ngIf="page.paginaSeleccionada > 1" style="vertical-align: middle;margin-left: 5px;margin-right: 5px;"
        name="ellipsis-horizontal"></ion-icon>
      <ng-container *ngFor="let i of iArray(page.paginas)">
        <ion-button *ngIf="i >= (page.paginaSeleccionada - 1) && i <= (page.paginaSeleccionada + 1)"
          [disabled]="page.paginaSeleccionada == i" color="toolbar" (click)="seleccionarPagina(i)">{{i}}</ion-button>
      </ng-container>
      <ion-icon *ngIf="page.paginaSeleccionada < (page.paginas - 2)"
        style="vertical-align: middle;margin-left: 5px;margin-right: 5px;" name="ellipsis-horizontal"></ion-icon>
      <ion-button [disabled]="page.paginas == 0 || page.paginaSeleccionada == page.paginas - 1" color="toolbar"
        (click)="seleccionarPagina(page.paginas - 1)">
        <ion-icon name="arrow-redo"></ion-icon>
      </ion-button>
    </section>
  </div>
</ion-content>